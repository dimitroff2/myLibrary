{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Brandi\\\\workspace\\\\frontend\\\\Capstone1\\\\mylibrary\\\\src\\\\components\\\\books\\\\BookForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { BooksContext } from \"./BookDataProvider\";\nimport \"./Books.css\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const BookForm = () => {\n  _s();\n\n  const {\n    addBook,\n    getBooksById,\n    updateBook,\n    getBooks\n  } = useContext(BooksContext);\n  const [bookState, setBookState] = useState({\n    userId: +localStorage.getItem(\"NutShell_User\"),\n    title: \"\",\n    author: \"\",\n    genre: \"\"\n  });\n  const [isLoading, setIsLoading] = useState(false);\n  const {\n    BookId\n  } = useParams();\n  const navigate = useNavigate();\n\n  const handleControlledInputChange = book => {\n    const newBookState = { ...bookState\n    };\n    newBookState[book.target.title] = book.target.value;\n    setBookState(newBookState);\n  };\n\n  const handleSaveEvent = () => {\n    if (parseInt(bookState.locationId) === 0) {\n      window.alert(\"Please select a location\");\n    } else {\n      setIsLoading(true);\n\n      if (BookId) {\n        updateBook({\n          id: +bookState.id,\n          title: bookState.title,\n          author: bookState.author,\n          genre: bookState.genre,\n          userId: +localStorage.getItem(\"NutShell_User\")\n        }).then(() => navigate(`/events/detail/${bookState.id}`));\n      } else {\n        //Post Add\n        addBook({\n          id: +bookState.id,\n          title: bookState.title,\n          author: bookState.author,\n          genre: bookState.genre,\n          userId: +localStorage.getItem(\"NutShell_User\")\n        }).then(() => navigate(\"/events\"));\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (bookId) {\n      getBooksById(bookId).then(book => {\n        setBookState(book);\n        setIsLoading(false);\n      });\n    } else {\n      setIsLoading(false);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"bookForm\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"bookForm__title\",\n      children: \"New Book\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"Book Title:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\",\n          onChange: handleControlledInputChange,\n          required: true,\n          autoFocus: true,\n          className: \"form-control\",\n          placeholder: \"Title\",\n          defaultValue: bookState.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"author:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"author\",\n          onChange: handleControlledInputChange,\n          required: true,\n          autoFocus: true,\n          className: \"form-control\",\n          placeholder: \"author\",\n          defaultValue: bookState.author\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"genre:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"genre\",\n          onChange: handleControlledInputChange,\n          required: true,\n          autoFocus: true,\n          className: \"form-control\",\n          placeholder: \"genre\",\n          defaultValue: bookState.genre\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary\",\n      disabled: isLoading,\n      onClick: book => {\n        book.preventDefault(handleSaveEvent());\n      },\n      children: \"Save Book\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 11\n  }, this);\n};\n\n_s(BookForm, \"iLQzMZJmSsB7j6uotK+GyR6eiP4=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = BookForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookForm\");","map":{"version":3,"sources":["C:/Users/Brandi/workspace/frontend/Capstone1/mylibrary/src/components/books/BookForm.js"],"names":["React","useContext","useEffect","useState","BooksContext","useParams","useNavigate","BookForm","addBook","getBooksById","updateBook","getBooks","bookState","setBookState","userId","localStorage","getItem","title","author","genre","isLoading","setIsLoading","BookId","navigate","handleControlledInputChange","book","newBookState","target","value","handleSaveEvent","parseInt","locationId","window","alert","id","then","bookId","preventDefault"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\"\r\nimport { BooksContext } from \"./BookDataProvider\"\r\nimport \"./Books.css\"\r\nimport {useParams, useNavigate} from \"react-router-dom\"\r\n\r\nexport const BookForm = () => {\r\n    const {addBook, getBooksById, updateBook, getBooks} = useContext(BooksContext)\r\n    const [bookState, setBookState] = useState(\r\n        {\r\n            userId: +localStorage.getItem(\"NutShell_User\"),\r\n            title: \"\",\r\n            author: \"\",\r\n            genre: \"\"\r\n            \r\n        })\r\n\r\n        const [isLoading, setIsLoading] = useState(false);\r\n        const {BookId} = useParams();\r\n        const navigate = useNavigate();\r\n        const handleControlledInputChange = (book) => {\r\n            const newBookState = { ...bookState } \r\n            newBookState[book.target.title] = book.target.value\r\n            setBookState(newBookState)\r\n          }\r\n\r\n          const handleSaveEvent = () => {\r\n            if (parseInt(bookState.locationId) === 0) {\r\n              window.alert(\"Please select a location\")\r\n            } else {\r\n              setIsLoading(true);\r\n            \r\n              if(BookId){\r\n                updateBook({\r\n                  id : +bookState.id,\r\n                  title: bookState.title,\r\n                  author: bookState.author,\r\n                  genre: bookState.genre,\r\n                  userId: +localStorage.getItem(\"NutShell_User\")\r\n                  \r\n                })\r\n                .then(() => navigate(`/events/detail/${bookState.id}`))\r\n              } else {\r\n                //Post Add\r\n                addBook({\r\n                  id : +bookState.id,\r\n                  title: bookState.title,\r\n                  author: bookState.author,\r\n                  genre: bookState.genre,\r\n                  userId: +localStorage.getItem(\"NutShell_User\")\r\n                  \r\n                })\r\n                .then(() => navigate(\"/events\"))\r\n              }\r\n            }\r\n          }\r\n      \r\n\r\n          useEffect(() => {\r\n        \r\n            if(bookId){\r\n            getBooksById(bookId)\r\n              .then(book => {\r\n                setBookState(book)\r\n                setIsLoading(false)\r\n              })\r\n            } else {\r\n              setIsLoading(false)\r\n            }\r\n         \r\n        }, [])\r\n\r\n        return(\r\n          <form className=\"bookForm\">\r\n          <h2 className=\"bookForm__title\">New Book</h2>\r\n          <fieldset>\r\n              <div className=\"form-group\">\r\n                  <label htmlFor=\"name\">Book Title:</label>\r\n                  <input type=\"text\" name=\"title\" \r\n                  onChange={handleControlledInputChange} required autoFocus className=\"form-control\"\r\n                  placeholder=\"Title\" \r\n                  defaultValue={bookState.title}/>\r\n              </div>\r\n          </fieldset>\r\n\r\n          <fieldset>\r\n              <div className=\"form-group\">\r\n                  <label htmlFor=\"name\">author:</label>\r\n                  <input type=\"text\" name=\"author\" \r\n                  onChange={handleControlledInputChange} required autoFocus className=\"form-control\"\r\n                  placeholder=\"author\" \r\n                  defaultValue={bookState.author}/>\r\n              </div>\r\n\r\n              </fieldset>\r\n\r\n              <fieldset>\r\n              <div className=\"form-group\">\r\n                  <label htmlFor=\"name\">genre:</label>\r\n                  <input type=\"text\" name=\"genre\" \r\n                  onChange={handleControlledInputChange} required autoFocus className=\"form-control\"\r\n                  placeholder=\"genre\" \r\n                  defaultValue={bookState.genre}/>\r\n              </div>      \r\n\r\n              </fieldset>\r\n\r\n              <button className=\"btn btn-primary\"\r\n          disabled ={isLoading}\r\n            onClick={book => {\r\n              book.preventDefault(\r\n              handleSaveEvent()\r\n              )\r\n            }}>\r\n            Save Book\r\n          </button>\r\n\r\n\r\n\r\n\r\n          </form>\r\n        )\r\n\r\n        \r\n}"]},"metadata":{},"sourceType":"module"}